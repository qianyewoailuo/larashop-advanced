## 使用 ViewComposer 优化

我们现在已经实现了类目菜单的功能，但是现在还有几个问题：

如果想要在其他页面也显示这个类目菜单，则需在对应控制器中获取类目树并注入到模板中，如果页面比较多，会出现大量复制粘贴的代码；
获取类目树的代码与控制器的业务逻辑无关，可能会让刚接手项目的开发人员比较迷惑。

对于此类问题，Laravel 提供了一个叫做 ViewComposer 的解决方案，ViewComposer 可以在不修改控制器的情况下直接向指定的模板文件注入变量。

> 注：这里的 ViewComposer 是一种设计范式，和包管理工具 composer 没有关系，不要混淆。

ViewComposer 类通常放在 `app/Http/ViewComposers` 目录下